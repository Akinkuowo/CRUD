{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASA\\\\Desktop\\\\work\\\\CRUD\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport './app.css';\nimport axios from 'axios';\nimport ListItem from './components/ListItem/ListItem.js';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.handleOnChange = event => {\n      this.setState({\n        newTodos: event.target.value\n      });\n    };\n\n    this.handleAlert = notification => {\n      this.setState({\n        notification\n      });\n      setTimeout(() => {\n        this.setState({\n          notification: null\n        });\n      }, 1500);\n    };\n\n    this.state = {\n      newTodos: '',\n      update: false,\n      editingIndex: null,\n      notification: null,\n      todos: []\n    };\n    this.apiUrl = 'http://5e053efa2f5dff0014f7da10.mockapi.io';\n  }\n\n  async componentDidMount() {\n    const response = await axios.get(\"\".concat(this.apiUrl, \"/todos\"));\n    this.setState({\n      todos: response.data\n    });\n  }\n\n  async handleOnClick() {\n    const response = await axios.post(\"\".concat(this.apiUrl, \"/todos\"), {\n      name: this.state.newTodos\n    });\n    const oldTodos = this.state.todos;\n    oldTodos.push(response.data);\n    this.setState({\n      todos: oldTodos,\n      newTodos: ''\n    });\n    this.handleAlert('Todo Created Successfully!');\n  }\n\n  handleEditTodo(index) {\n    const todos = this.state.todos[index];\n    this.setState({\n      update: true,\n      newTodos: todos.name,\n      editingIndex: index\n    });\n  }\n\n  async handleUpdateTodo() {\n    const todo = this.state.todos[this.state.editingIndex];\n    const response = await axios.put(\"\".concat(this.apiUrl, \"/todos/\").concat(todo.id), {\n      name: this.state.newTodos\n    });\n    console.log(response);\n    const todos = this.state.todos;\n    todos[this.state.editingIndex] = response.data;\n    this.setState({\n      todos,\n      editingIndex: null,\n      update: false,\n      newTodos: ''\n    });\n    this.handleAlert('Todo Updated Successfully!');\n  }\n\n  async handleDeleteTodo(index) {\n    const todos = this.state.todos;\n    const todo = todos[index];\n    await axios.delete(\"\".concat(this.apiUrl, \"/todos/\").concat(todo.id));\n    delete todos[index];\n    this.setState({\n      todos\n    });\n    this.handleAlert('Todo Deleted Successfully!');\n  }\n\n  render() {\n    console.log(this.state.newTodos);\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.notification && React.createElement(\"div\", {\n      className: \"alert mt-3 alert-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.notification)), React.createElement(\"h2\", {\n      className: \"text-center p4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Todos App \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"todos\",\n      className: \"form-control my-4\",\n      placeholder: \"add a new todo\",\n      value: this.state.newTodos,\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn-danger form-control my-4\",\n      disabled: this.state.newTodos.length < 5,\n      onClick: this.state.update ? this.handleUpdateTodo : this.handleOnClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.state.update ? \"Update Todo\" : \"Add Todo\"), !this.state.update && React.createElement(\"ul\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.state.todos.map((items, index) => {\n      return React.createElement(ListItem, {\n        key: items.id,\n        items: items,\n        handleEditTodo: () => {\n          this.handleEditTodo(index);\n        },\n        handleDeleteTodo: () => {\n          this.handleDeleteTodo(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      });\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\ASA\\Desktop\\work\\CRUD\\client\\src\\App.js"],"names":["React","axios","ListItem","App","Component","constructor","handleOnChange","event","setState","newTodos","target","value","handleAlert","notification","setTimeout","state","update","editingIndex","todos","apiUrl","componentDidMount","response","get","data","handleOnClick","post","name","oldTodos","push","handleEditTodo","index","handleUpdateTodo","todo","put","id","console","log","handleDeleteTodo","delete","render","length","map","items"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './app.css';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nimport ListItem from './components/ListItem/ListItem.js'\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\tconstructor(){\r\n\t\tsuper()\r\n\t\tthis.state = {\r\n\r\n\t\t\tnewTodos: '',\r\n\t\t\tupdate: false,\r\n\t\t\teditingIndex: null,\r\n\t\t\tnotification: null,\r\n\t\t\ttodos: []\r\n\t\t}\r\n\r\n\t\tthis.apiUrl = 'http://5e053efa2f5dff0014f7da10.mockapi.io';\r\n\t\t\r\n\t};\r\n\r\n\tasync componentDidMount(){\r\n\t\tconst response = await axios.get(`${this.apiUrl}/todos`);\r\n \r\n\r\n\t\tthis.setState({\r\n\t\t\t todos: response.data\r\n\t\t});\r\n\t}\r\n\t\r\n\r\n\thandleOnChange = (event)=>{\r\n\t\tthis.setState({\r\n\t\t\tnewTodos: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tasync handleOnClick() {\r\n\t\r\n\r\n\t\tconst response = await axios.post(`${this.apiUrl}/todos`, {\r\n\t\t\tname: this.state.newTodos,\r\n\t\t}); \r\n\r\n\t\tconst oldTodos = this.state.todos;\r\n\r\n\t\toldTodos.push(response.data);\r\n\r\n\t\tthis.setState({\r\n\t\t\ttodos: oldTodos,\r\n\t\t\tnewTodos: ''\r\n\t\t})\r\n\t\tthis.handleAlert('Todo Created Successfully!')\r\n\t}\r\n\r\n\thandleEditTodo (index){\r\n\t\tconst todos = this.state.todos[index];\r\n\r\n\t\tthis.setState({\r\n\t\t\tupdate: true,\r\n\t\t\tnewTodos: todos.name,\r\n\t\t\teditingIndex: index\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tasync handleUpdateTodo () {\r\n\t\t\r\n\t\tconst todo = this.state.todos[this.state.editingIndex];\r\n\r\n\t\tconst response = await axios.put(`${this.apiUrl}/todos/${todo.id}`, {\r\n\t\t\tname: this.state.newTodos\r\n\t\t})\r\n\r\n\t\tconsole.log(response)\r\n\r\n\r\n\t\tconst todos = this.state.todos;\r\n\r\n\t\ttodos[this.state.editingIndex] = response.data;\r\n\r\n\t\tthis.setState({ \r\n\t\t\ttodos, \r\n\t\t\teditingIndex: null, \r\n\t\t\tupdate: false, \r\n\t\t\tnewTodos: ''  \r\n\t\t})\r\n\r\n\t\tthis.handleAlert('Todo Updated Successfully!')\r\n\t}\r\n\r\n\tasync handleDeleteTodo(index) {\r\n\t\tconst todos = this.state.todos\r\n\r\n\t\tconst todo = todos[index]; \r\n\r\n\t\tawait axios.delete(`${this.apiUrl}/todos/${todo.id}`);\r\n\r\n\t\tdelete todos[index];\r\n\r\n\t\tthis.setState({ todos })\r\n\r\n\t\tthis.handleAlert('Todo Deleted Successfully!')\r\n\t}\r\n\r\n\thandleAlert = (notification) => {\r\n\t\tthis.setState({\r\n\t\t\tnotification\r\n\t\t})\r\n\r\n\t\tsetTimeout(()=> {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnotification: null\r\n\t\t\t})\r\n\t\t}, 1500)\r\n\t}\r\n\r\n\r\n\r\n\trender(){\r\n\t\tconsole.log(this.state.newTodos)\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.notification &&\r\n\t\t\t\t\t\t<div className=\"alert mt-3 alert-success\">\r\n\t\t\t\t\t\t\t<p className=\"text-center\">{this.state.notification}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n   \r\n\t\t\t\t   <h2 className=\"text-center p4\">Todos App </h2>\r\n\t\t\t\t   <input type=\"text\" name=\"todos\" className=\"form-control my-4\" placeholder=\"add a new todo\" value={this.state.newTodos} onChange={this.handleOnChange} />\r\n\t\t\t\t   <button className=\"btn-danger form-control my-4\" \r\n\t\t\t\t\tdisabled={this.state.newTodos.length < 5}  \r\n\t\t\t\t   onClick={this.state.update ? this.handleUpdateTodo : this.handleOnClick}>\r\n\t\t\t\t   \t\t{this.state.update ? \"Update Todo\" : \"Add Todo\"}\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{!this.state.update && \r\n\t\t\t\t\t<ul className=\"list-group\">\t\r\n\t\t\t\t\t\t{this.state.todos.map((items, index)=>{\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tkey={items.id} \r\n\t\t\t\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\t\t\t\thandleEditTodo={() => {this.handleEditTodo(index)} }\r\n\t\t\t\t\t\t\t\t\thandleDeleteTodo={() => {this.handleDeleteTodo(index)} }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t   </div>\t\r\n\t\t   \r\n\t\t   );\r\n\t}\r\n\t\t\r\n\r\n}\r\n\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}