{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASA\\\\Desktop\\\\work\\\\CRUD\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport './app.css';\nimport axios from 'axios';\nimport ListItem from './components/ListItem/ListItem.js';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.handleOnChange = event => {\n      this.setState({\n        newTodos: event.target.value\n      });\n    };\n\n    this.handleEditTodo = index => {\n      const todos = this.state.todos[index];\n      this.setState({\n        update: true,\n        newTodos: todos.name,\n        editingIndex: index\n      });\n      console.log(this.state.editingIndex);\n    };\n\n    this.handleAlert = notification => {\n      this.setState({\n        notification\n      });\n      setTimeout(() => {\n        this.setState({\n          notification: null\n        });\n      }, 1500);\n    };\n\n    this.state = {\n      newTodos: '',\n      update: false,\n      editingIndex: null,\n      notification: null,\n      todos: []\n    };\n    this.apiUrl = 'http://5e053efa2f5dff0014f7da10.mockapi.io';\n  }\n\n  async componentDidMount() {\n    const response = await axios.get(\"\".concat(this.apiUrl, \"/todos\"));\n    this.setState({\n      todos: response.data\n    });\n  }\n\n  async handleOnClick() {\n    const response = await axios.post(\"\".concat(this.apiUrl, \"/todos\"), {\n      name: this.state.newTodos\n    });\n    const oldTodos = this.state.todos;\n    oldTodos.push(response.data);\n    this.setState({\n      todos: oldTodos,\n      newTodos: ''\n    });\n    this.handleAlert('Todo Created Successfully!');\n  }\n\n  async handleUpdateTodo() {\n    const todo = this.state.todos[this.state.editingIndex];\n    const response = await axios.put(\"\".concat(this.apiUrl, \"/todos/\").concat(todo.id), {\n      name: this.state.newTodos\n    });\n    const todos = this.state.todos;\n    todos[this.state.editingIndex] = response.data;\n    this.setState({\n      todos,\n      editingIndex: null,\n      update: false,\n      newTodos: ''\n    });\n    this.handleAlert('Todo Updated Successfully!');\n  }\n\n  async handleDeleteTodo(index) {\n    const todos = this.state.todos;\n    const todo = todos[index];\n    await axios.delete(\"\".concat(this.apiUrl, \"/todos/\").concat(todo.id));\n    delete todos[index];\n    this.setState({\n      todos\n    });\n    this.handleAlert('Todo Deleted Successfully!');\n  }\n\n  render() {\n    console.log(this.state.newTodos);\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.state.notification && React.createElement(\"div\", {\n      className: \"alert mt-3 alert-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.state.notification)), React.createElement(\"h2\", {\n      className: \"text-center p4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Todos App \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"todos\",\n      className: \"form-control my-4\",\n      placeholder: \"add a new todo\",\n      value: this.state.newTodos,\n      onChange: this.handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn-danger form-control my-4\",\n      disabled: this.state.newTodos.length < 5,\n      onClick: this.state.update ? this.handleUpdateTodo : this.handleOnClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, this.state.update ? \"Update Todo\" : \"Add Todo\"), !this.state.update && React.createElement(\"ul\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, this.state.todos.map((items, index) => {\n      return React.createElement(ListItem, {\n        key: items.id,\n        items: items,\n        handleEditTodo: () => {\n          this.handleEditTodo(index);\n        },\n        handleDeleteTodo: () => {\n          this.handleDeleteTodo(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      });\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\ASA\\Desktop\\work\\CRUD\\client\\src\\App.js"],"names":["React","axios","ListItem","App","Component","constructor","handleOnChange","event","setState","newTodos","target","value","handleEditTodo","index","todos","state","update","name","editingIndex","console","log","handleAlert","notification","setTimeout","apiUrl","componentDidMount","response","get","data","handleOnClick","post","oldTodos","push","handleUpdateTodo","todo","put","id","handleDeleteTodo","delete","render","length","map","items"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,OAAOC,QAAP,MAAqB,mCAArB;;AAIA,MAAMC,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAkC;AACjCC,EAAAA,WAAW,GAAE;AACZ;;AADY,SAyBbC,cAzBa,GAyBKC,KAAD,IAAS;AACzB,WAAKC,QAAL,CAAc;AACbC,QAAAA,QAAQ,EAAEF,KAAK,CAACG,MAAN,CAAaC;AADV,OAAd;AAGA,KA7BY;;AAAA,SAkDbC,cAlDa,GAkDKC,KAAD,IAAU;AAC1B,YAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWD,KAAX,CAAiBD,KAAjB,CAAd;AAEA,WAAKL,QAAL,CAAc;AACbQ,QAAAA,MAAM,EAAE,IADK;AAEbP,QAAAA,QAAQ,EAAEK,KAAK,CAACG,IAFH;AAGbC,QAAAA,YAAY,EAAEL;AAHD,OAAd;AAKAM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWG,YAAvB;AACA,KA3DY;;AAAA,SAiGbG,WAjGa,GAiGEC,YAAD,IAAkB;AAC/B,WAAKd,QAAL,CAAc;AACbc,QAAAA;AADa,OAAd;AAIAC,MAAAA,UAAU,CAAC,MAAK;AACf,aAAKf,QAAL,CAAc;AACbc,UAAAA,YAAY,EAAE;AADD,SAAd;AAGA,OAJS,EAIP,IAJO,CAAV;AAKA,KA3GY;;AAEZ,SAAKP,KAAL,GAAa;AAEZN,MAAAA,QAAQ,EAAE,EAFE;AAGZO,MAAAA,MAAM,EAAE,KAHI;AAIZE,MAAAA,YAAY,EAAE,IAJF;AAKZI,MAAAA,YAAY,EAAE,IALF;AAMZR,MAAAA,KAAK,EAAE;AANK,KAAb;AASA,SAAKU,MAAL,GAAc,4CAAd;AAEA;;AAED,QAAMC,iBAAN,GAAyB;AACxB,UAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,GAAN,WAAa,KAAKH,MAAlB,YAAvB;AAGA,SAAKhB,QAAL,CAAc;AACZM,MAAAA,KAAK,EAAEY,QAAQ,CAACE;AADJ,KAAd;AAGA;;AAUD,QAAMC,aAAN,GAAsB;AAGrB,UAAMH,QAAQ,GAAG,MAAMzB,KAAK,CAAC6B,IAAN,WAAc,KAAKN,MAAnB,aAAmC;AACzDP,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWN;AADwC,KAAnC,CAAvB;AAIA,UAAMsB,QAAQ,GAAG,KAAKhB,KAAL,CAAWD,KAA5B;AAEAiB,IAAAA,QAAQ,CAACC,IAAT,CAAcN,QAAQ,CAACE,IAAvB;AAEA,SAAKpB,QAAL,CAAc;AACbM,MAAAA,KAAK,EAAEiB,QADM;AAEbtB,MAAAA,QAAQ,EAAE;AAFG,KAAd;AAIA,SAAKY,WAAL,CAAiB,4BAAjB;AACA;;AAaD,QAAMY,gBAAN,GAA0B;AACzB,UAAMC,IAAI,GAAG,KAAKnB,KAAL,CAAWD,KAAX,CAAiB,KAAKC,KAAL,CAAWG,YAA5B,CAAb;AAEA,UAAMQ,QAAQ,GAAG,MAAMzB,KAAK,CAACkC,GAAN,WAAa,KAAKX,MAAlB,oBAAkCU,IAAI,CAACE,EAAvC,GAA6C;AACnEnB,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWN;AADkD,KAA7C,CAAvB;AAKA,UAAMK,KAAK,GAAG,KAAKC,KAAL,CAAWD,KAAzB;AAEAA,IAAAA,KAAK,CAAC,KAAKC,KAAL,CAAWG,YAAZ,CAAL,GAAiCQ,QAAQ,CAACE,IAA1C;AAEA,SAAKpB,QAAL,CAAc;AACbM,MAAAA,KADa;AAEbI,MAAAA,YAAY,EAAE,IAFD;AAGbF,MAAAA,MAAM,EAAE,KAHK;AAIbP,MAAAA,QAAQ,EAAE;AAJG,KAAd;AAOA,SAAKY,WAAL,CAAiB,4BAAjB;AACA;;AAED,QAAMgB,gBAAN,CAAuBxB,KAAvB,EAA8B;AAC7B,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWD,KAAzB;AAEA,UAAMoB,IAAI,GAAGpB,KAAK,CAACD,KAAD,CAAlB;AAEA,UAAMZ,KAAK,CAACqC,MAAN,WAAgB,KAAKd,MAArB,oBAAqCU,IAAI,CAACE,EAA1C,EAAN;AAEA,WAAOtB,KAAK,CAACD,KAAD,CAAZ;AAEA,SAAKL,QAAL,CAAc;AAAEM,MAAAA;AAAF,KAAd;AAEA,SAAKO,WAAL,CAAiB,4BAAjB;AACA;;AAgBDkB,EAAAA,MAAM,GAAE;AACPpB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWN,QAAvB;AACA,WACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,KAAKM,KAAL,CAAWO,YAAX,IACA;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,KAAKP,KAAL,CAAWO,YAAvC,CADD,CAHF,EAQG;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARH,EASG;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,SAAS,EAAC,mBAA1C;AAA8D,MAAA,WAAW,EAAC,gBAA1E;AAA2F,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWN,QAA7G;AAAuH,MAAA,QAAQ,EAAE,KAAKH,cAAtI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATH,EAUG;AAAQ,MAAA,SAAS,EAAC,8BAAlB;AACF,MAAA,QAAQ,EAAE,KAAKS,KAAL,CAAWN,QAAX,CAAoB+B,MAApB,GAA6B,CADrC;AAEA,MAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWC,MAAX,GAAoB,KAAKiB,gBAAzB,GAA4C,KAAKJ,aAF1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGG,KAAKd,KAAL,CAAWC,MAAX,GAAoB,aAApB,GAAoC,UAHvC,CAVH,EAgBE,CAAC,KAAKD,KAAL,CAAWC,MAAZ,IACD;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKD,KAAL,CAAWD,KAAX,CAAiB2B,GAAjB,CAAqB,CAACC,KAAD,EAAQ7B,KAAR,KAAgB;AACpC,aACC,oBAAC,QAAD;AACA,QAAA,GAAG,EAAE6B,KAAK,CAACN,EADX;AAEA,QAAA,KAAK,EAAEM,KAFP;AAGA,QAAA,cAAc,EAAE,MAAM;AAAC,eAAK9B,cAAL,CAAoBC,KAApB;AAA2B,SAHlD;AAIA,QAAA,gBAAgB,EAAE,MAAM;AAAC,eAAKwB,gBAAL,CAAsBxB,KAAtB;AAA6B,SAJtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAQA,KATD,CADF,CAjBD,CAFD,CADD;AAwCA;;AA1JgC;;AAgKlC,eAAeV,GAAf","sourcesContent":["import React from 'react';\r\nimport './app.css';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nimport ListItem from './components/ListItem/ListItem.js'\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\tconstructor(){\r\n\t\tsuper()\r\n\t\tthis.state = {\r\n\r\n\t\t\tnewTodos: '',\r\n\t\t\tupdate: false,\r\n\t\t\teditingIndex: null,\r\n\t\t\tnotification: null,\r\n\t\t\ttodos: []\r\n\t\t}\r\n\r\n\t\tthis.apiUrl = 'http://5e053efa2f5dff0014f7da10.mockapi.io';\r\n\t\t\r\n\t};\r\n\r\n\tasync componentDidMount(){\r\n\t\tconst response = await axios.get(`${this.apiUrl}/todos`);\r\n \r\n\r\n\t\tthis.setState({\r\n\t\t\t todos: response.data\r\n\t\t});\r\n\t}\r\n\t\r\n\r\n\thandleOnChange = (event)=>{\r\n\t\tthis.setState({\r\n\t\t\tnewTodos: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tasync handleOnClick() {\r\n\t\r\n\r\n\t\tconst response = await axios.post(`${this.apiUrl}/todos`, {\r\n\t\t\tname: this.state.newTodos,\r\n\t\t}); \r\n\r\n\t\tconst oldTodos = this.state.todos;\r\n\r\n\t\toldTodos.push(response.data);\r\n\r\n\t\tthis.setState({\r\n\t\t\ttodos: oldTodos,\r\n\t\t\tnewTodos: ''\r\n\t\t})\r\n\t\tthis.handleAlert('Todo Created Successfully!')\r\n\t}\r\n\r\n\thandleEditTodo = (index) =>{\r\n\t\tconst todos = this.state.todos[index];\r\n\r\n\t\tthis.setState({\r\n\t\t\tupdate: true,\r\n\t\t\tnewTodos: todos.name,\r\n\t\t\teditingIndex: index\r\n\t\t})\r\n\t\tconsole.log(this.state.editingIndex)\r\n\t}\r\n\r\n\tasync handleUpdateTodo () {\r\n\t\tconst todo = this.state.todos[this.state.editingIndex];\r\n\r\n\t\tconst response = await axios.put(`${this.apiUrl}/todos/${todo.id}`, {\r\n\t\t\tname: this.state.newTodos\r\n\t\t})\r\n\r\n\r\n\t\tconst todos = this.state.todos;\r\n\r\n\t\ttodos[this.state.editingIndex] = response.data;\r\n\r\n\t\tthis.setState({ \r\n\t\t\ttodos, \r\n\t\t\teditingIndex: null, \r\n\t\t\tupdate: false, \r\n\t\t\tnewTodos: ''  \r\n\t\t})\r\n\r\n\t\tthis.handleAlert('Todo Updated Successfully!')\r\n\t}\r\n\r\n\tasync handleDeleteTodo(index) {\r\n\t\tconst todos = this.state.todos\r\n\r\n\t\tconst todo = todos[index]; \r\n\r\n\t\tawait axios.delete(`${this.apiUrl}/todos/${todo.id}`);\r\n\r\n\t\tdelete todos[index];\r\n\r\n\t\tthis.setState({ todos })\r\n\r\n\t\tthis.handleAlert('Todo Deleted Successfully!')\r\n\t}\r\n\r\n\thandleAlert = (notification) => {\r\n\t\tthis.setState({\r\n\t\t\tnotification\r\n\t\t})\r\n\r\n\t\tsetTimeout(()=> {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnotification: null\r\n\t\t\t})\r\n\t\t}, 1500)\r\n\t}\r\n\r\n\r\n\r\n\trender(){\r\n\t\tconsole.log(this.state.newTodos)\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.notification &&\r\n\t\t\t\t\t\t<div className=\"alert mt-3 alert-success\">\r\n\t\t\t\t\t\t\t<p className=\"text-center\">{this.state.notification}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n   \r\n\t\t\t\t   <h2 className=\"text-center p4\">Todos App </h2>\r\n\t\t\t\t   <input type=\"text\" name=\"todos\" className=\"form-control my-4\" placeholder=\"add a new todo\" value={this.state.newTodos} onChange={this.handleOnChange} />\r\n\t\t\t\t   <button className=\"btn-danger form-control my-4\" \r\n\t\t\t\t\tdisabled={this.state.newTodos.length < 5}  \r\n\t\t\t\t   onClick={this.state.update ? this.handleUpdateTodo : this.handleOnClick}>\r\n\t\t\t\t   \t\t{this.state.update ? \"Update Todo\" : \"Add Todo\"}\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{!this.state.update && \r\n\t\t\t\t\t<ul className=\"list-group\">\t\r\n\t\t\t\t\t\t{this.state.todos.map((items, index)=>{\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tkey={items.id} \r\n\t\t\t\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\t\t\t\thandleEditTodo={() => {this.handleEditTodo(index)} }\r\n\t\t\t\t\t\t\t\t\thandleDeleteTodo={() => {this.handleDeleteTodo(index)} }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t   </div>\t\r\n\t\t   \r\n\t\t   );\r\n\t}\r\n\t\t\r\n\r\n}\r\n\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}